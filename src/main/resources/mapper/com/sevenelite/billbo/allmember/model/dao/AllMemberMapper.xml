<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sevenelite.billbo.allmember.model.dao.AllMemberMapper">

<resultMap type="com.sevenelite.billbo.allmember.model.dto.MemberAndMemberInfoAndDeptAndModifyDeptDTO" id="ALlmemberResultMap">
	<id property="no" column="MEMBER_NO"/>
	<result property="memberName" column="MEMBER_NAME"/>
	<result property="memberpwd" column="MEMBER_PWD"/>
	<result property="email" column="EMAIL"/>
	<result property="phone" column="PHONE"/>
	<result property="enrollDate" column="ENROLL_DATE"/>
	<result property="deptCode" column="DEPT_CODE"/>
	<result property="deptName" column="DEPT_NAME"/>
</resultMap>

<select id="selectAllEmployeeList" resultMap="ALlmemberResultMap" parameterType="MemberAndMemberInfoAndDeptAndModifyDeptDTO">
        SELECT
               A.MEMBER_NO
             , A.MEMBER_NAME
             , A.EMAIL
             , A.PHONE
             , B.ENROLL_DATE
             , C.DEPT_CODE
             , D.DEPT_NAME
         FROM BB_MEMBER A
         JOIN BB_MEMBER_INFO B ON (A.MEMBER_NO = B.MEMBER_NO)
         JOIN BB_MODIFY_DEPT C ON (A.MEMBER_NO = C.MEMBER_NO)
         JOIN BB_DEPT D ON (C.DEPT_CODE = D.DEPT_CODE)  

</select>
</mapper>